{%extends 'base.html'%}
<hr />
{% block title%} | Books {% endblock title%}
<hr />
{% block mainContent%}

<table class="table table-striped table-responsive">
  <thead>
    <tr>
      <th>#</th>
      <th>Id</th>
      <th>Title</th>
      <th>Subtitle</th>
      <th>Author</th>
      <th>Publisher</th>
      <th>Published_date</th>
      <th title="distribution expense ">Expense</th>
      <th>Category</th>

      <th>
        <a href="{%url 'add_book'%}">
          <i class="fa-solid fa-file-circle-plus px-1"></i>Add
        </a>
      </th>
      <th>
        <a href="{%url 'add_book'%}">
          <i class="fa-solid fa-file-arrow-up px-2"></i>Import
        </a>
      </th>
    </tr>
  </thead>
  <tbody>
    {%for book in books%}
    <tr>
      <td>{{forloop.counter}}</td>
      <td>{{book.idNumber}}</td>
      <td>{{book.title}}</td>
      <td>{{book.subtitle}}</td>
      <td>{{book.author}}</td>
      <td>{{book.publisher}}</td>
      <td>{{book.published_date}}</td>
      <td>{{book.distribution_expense}}</td>
      <td>{{book.category.type_name}}</td>
      <td colspan="2">
        <a href="{%url 'editBook' book.id %}">
          <i class="fa-solid fa-pencil px-3"></i>
        </a>

        <a href="{%url 'deleteBook' book.id %}">
          <i class="fa-solid fa-trash px-3"></i>
        </a>
      </td>
    </tr>
    {%endfor%}
  </tbody>
</table>

<!-- Modal -->
<div
  class="modal fade"
  id="addModal"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="addModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-bg-secondary">
        <h1 class="modal-title fs-5" id="addModalLabel">Add Book</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form method="POST">
          {% csrf_token %} {%for field in form %}{{field.label}}{{field.errors}}
          {{field}} {%endfor%}

          <input type="submit" value="Save" />
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div>
    </div>
  </div>
</div>
{% endblock mainContent%}
